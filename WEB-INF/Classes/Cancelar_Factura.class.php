<?php

include_once("Catalogo.class.php");
include_once("CatalogoFacturacion.class.php");
include_once("PagoParcial.class.php");
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

class Cancelar_Factura {
    private $certificado_prueba = "MIIF+TCCA+GgAwIBAgIUMzAwMDEwMDAwMDAzMDAwMjM3MDgwDQYJKoZIhvcNAQELBQAwggFmMSAw
HgYDVQQDDBdBLkMuIDIgZGUgcHJ1ZWJhcyg0MDk2KTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRt
aW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1
cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMSkwJwYJKoZIhvcNAQkBFhphc2lzbmV0QHBydWViYXMu
c2F0LmdvYi5teDEmMCQGA1UECQwdQXYuIEhpZGFsZ28gNzcsIENvbC4gR3VlcnJlcm8xDjAMBgNV
BBEMBTA2MzAwMQswCQYDVQQGEwJNWDEZMBcGA1UECAwQRGlzdHJpdG8gRmVkZXJhbDESMBAGA1UE
BwwJQ295b2Fjw6FuMRUwEwYDVQQtEwxTQVQ5NzA3MDFOTjMxITAfBgkqhkiG9w0BCQIMElJlc3Bv
bnNhYmxlOiBBQ0RNQTAeFw0xNzA1MTgwMzU0NTZaFw0yMTA1MTgwMzU0NTZaMIHlMSkwJwYDVQQD
EyBBQ0NFTSBTRVJWSUNJT1MgRU1QUkVTQVJJQUxFUyBTQzEpMCcGA1UEKRMgQUNDRU0gU0VSVklD
SU9TIEVNUFJFU0FSSUFMRVMgU0MxKTAnBgNVBAoTIEFDQ0VNIFNFUlZJQ0lPUyBFTVBSRVNBUklB
TEVTIFNDMSUwIwYDVQQtExxBQUEwMTAxMDFBQUEgLyBIRUdUNzYxMDAzNFMyMR4wHAYDVQQFExUg
LyBIRUdUNzYxMDAzTURGUk5OMDkxGzAZBgNVBAsUEkNTRDAxX0FBQTAxMDEwMUFBQTCCASIwDQYJ
KoZIhvcNAQEBBQADggEPADCCAQoCggEBAJdUcsHIEIgwivvAantGnYVIO3+7yTdD1tkKopbL+tKS
jRFo1ErPdGJxP3gxT5O+ACIDQXN+HS9uMWDYnaURalSIF9COFCdh/OH2Pn+UmkN4culr2DanKztV
IO8idXM6c9aHn5hOo7hDxXMC3uOuGV3FS4ObkxTV+9NsvOAV2lMe27SHrSB0DhuLurUbZwXm+/r4
dtz3b2uLgBc+Diy95PG+MIu7oNKM89aBNGcjTJw+9k+WzJiPd3ZpQgIedYBD+8QWxlYCgxhnta3k
9ylgXKYXCYk0k0qauvBJ1jSRVf5BjjIUbOstaQp59nkgHh45c9gnwJRV618NW0fMeDzuKR0CAwEA
AaMdMBswDAYDVR0TAQH/BAIwADALBgNVHQ8EBAMCBsAwDQYJKoZIhvcNAQELBQADggIBABKj0DCN
L1lh44y+OcWFrT2icnKF7WySOVihx0oR+HPrWKBMXxo9KtrodnB1tgIx8f+Xjqyphhbw+juDSeDr
b99PhC4+E6JeXOkdQcJt50Kyodl9URpCVWNWjUb3F/ypa8oTcff/eMftQZT7MQ1Lqht+xm3QhVox
TIASce0jjsnBTGD2JQ4uT3oCem8bmoMXV/fk9aJ3v0+ZIL42MpY4POGUa/iTaawklKRAL1Xj9IdI
R06RK68RS6xrGk6jwbDTEKxJpmZ3SPLtlsmPUTO1kraTPIo9FCmU/zZkWGpd8ZEAAFw+ZfI+bdXB
fvdDwaM2iMGTQZTTEgU5KKTIvkAnHo9O45SqSJwqV9NLfPAxCo5eRR2OGibd9jhHe81zUsp5GdE1
mZiSqJU82H3cu6BiE+D3YbZeZnjrNSxBgKTIf8w+KNYPM4aWnuUMl0mLgtOxTUXi9MKnUccq3GZL
A7bx7Zn211yPRqEjSAqybUMVIOho6aqzkfc3WLZ6LnGU+hyHuZUfPwbnClb7oFFz1PlvGOpNDsUb
0qP42QCGBiTUseGugAzqOP6EYpVPC73gFourmdBQgfayaEvi3xjNanFkPlW1XEYNrYJB4yNjphFr
vWwTY86vL2o8gZN0Utmc5fnoBTfM9r2zVKmEi6FUeJ1iaDaVNv47te9iS1ai4V4vBY8r";
    private $llave_prueba = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3
DQMHBAgwggS+AgEAMASCBMh4EHl7aNSCaMDA1VlRoXCZ5UUmqErAbuck7ujDnmKxSaOGzJzn1hAl
fBWJNtr1rgiCXRHB5/2qJ/CnTOkCcgutvs1xl3vxHgY1+N9I60iZUG+yjfEd+ungL4alXXMtKgZ8
CkQXaeYIeQXFdyZ5jUU07Cy+LjMrIOAh1m/VnL6U/qW3dY+oJmII6gCG0SKcfCojeCpBVL2ispK2
CBTpMDO4hd7vnbFhafl9/wUkAncmz5SHLjXPMKgmK7HvBiUSMRYFCjcNEBvMshI7E1//nG8pi0Xr
mbq4MfT1B+SF8vbA39hCqKP32m+QFlOduHlaFSnW96UkMBT5hF1qImwU3HTbtKfAumo3BLzYJ9XP
7Y6eVOFFSSsXudrAt94mH7CojUjazGHBsqagsUY85Q7Cz0TTvnnvWFNFAj/xbQm6nT1VL8FkdJm8
hEb5YLaOqQZ8y1AEv8sCq/M51aHglexuzGFIIUTF+/XQGeYDBITlS6z2TryoHp8n1+6LpClL51Wr
IfaSxyMEtG2fmAHN82iNujOP6MBR7aMZ6dfxJctFRAaWlmi89wa5VhyeaoDzkx1roJznF3MLxVKR
OmYLDYk142IwRtTgWrex4Wnidpo4unrfL+uj6VwTUDk0cizaYvamRhlZ/LXdwyB1syb/GQGu94gS
zB1zAzb5/IIbtyofK+/tVTv08OMpCqHfBye1QJQg+vxQHMkbhZH6sEgORSEjuidW13DTKi8xyryQ
sD5WccMh8WDxMuAVFUldrwWdGilFKg0G99S/XJWLwKB74Nv0v/Ygdp6/d9T0fFD3FXpb9RznErCg
fVSMtrPv1svGg3QFwh+qmkzjh+NBwUrmmqEjNshji+9SB4fnJNYlKVvu4WAzMKliixUkRcCID1QY
wLtiyWuwZDYxKTnk7Y1LXmRGqqhNbh4kdnTNUdkxEjqp+UVtBdaxswa6s4qrLbNeD7VN+1KJEMN6
/zZ6+2Uj2KBMzaDA0zwAHMB1gyPkgX0v47e61iffaVAUQzDGYGbDERG2vT8234NSDdgqzOpsf7il
2Pv+uF0oab+db62JiRvOEjNefXG5p8KRudYyaVO8N7iTdRRj/A/yDwjmSq9dDCZEZE0cD6BEaAgm
jvqwF5IvGgJGnWYKhrOGBPv+VL6zGOXo/L9zenxYwKNTHzNYlvug/t4gXQmArroqA2YKBGpYb8/F
Y/q3t3k+u1bXWvNLOzWi81InvxFSCTu6l9GBCthyWwekWdoL6ssSzOmzPr/d2klSRST3ByJmAJzL
GJFsj6AL01BaUVWERH0s+GmnSWOU8ZIQVGF7aOEWWbtD0vyjJRxQnxPxn+Tt3oT9Nob10QGwG/2t
NZtZuhAMf1yt+cF8jl0hC/LI0FtMqmLAkxaEOiXHmFuKXbAjFxIjdIwgWsAZe1cTLzR44jIKwlB6
4jvh1LXmJ5jCszLd/fuCEB0XZUWLDRCZVb82MqcZl7U/gaFazSqm71NNafCDzWjWO4ukWN1lcTDJ
E05KgeRqoYIEcpU8jXy/CAEaoseA1bWDnfnLJk2axVXzmrtYnojyKjTjDz3In41Kjsx3nNOegqtH
7O2gl9YBzJfgwZmF0ldk+udcotc0JwIXYWk7b5HmRgXWa+WvDHSwyLzMrbw=";
    
    private $llave_privada_prueba = "MTIzNDU2Nzhh";
    
    
    private $certificado_scg = "MIIGbTCCBFWgAwIBAgIUMDAwMDEwMDAwMDA0MDgwMzg5MjUwDQYJKoZIhvcNAQELBQAwggGyMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZI
        hvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBH
        dWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBG
        ZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJ
        KoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2Vydmlj
        aW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTcxMTA3MTYzMzM1WhcNMjExMTA3
        MTYzMzM1WjCCAQwxMDAuBgNVBAMTJ1NFUlZJQ0lPUyBDT1JQT1JBVElWT1MgR0VORVNJUyBTQSBE
        RSBDVjEwMC4GA1UEKRMnU0VSVklDSU9TIENPUlBPUkFUSVZPUyBHRU5FU0lTIFNBIERFIENWMTAw
        LgYDVQQKEydTRVJWSUNJT1MgQ09SUE9SQVRJVk9TIEdFTkVTSVMgU0EgREUgQ1YxJTAjBgNVBC0T
        HFNDRzk2MDYxMTdGNyAvIE1PQ0M2NTA0MjNJVzIxHjAcBgNVBAUTFSAvIE1PQ0M2NTA0MjNNREZS
        UkwwNTEtMCsGA1UECxMkU0VSVklDSU9TIENPUlBPUkFUSVZPUyBHRU5FU0lTIFNBIENWMIIBIjAN
        BgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAi88fRw09mQQumNtLQr+GB4aVBD1JwrslufUBMHHU
        T0isJnTFX2OnHHN9npJbIWoaltrNNklw13/kWEepHWNIN89jjfw0DPruc5FkIIP3SU/wvZEg/pDZ
        iedSd8FxwaL+rd8Rg9yjWTjk+SsnNyeCMg5lF11vrWCYuQ4XRTe3gOUUTpJX8ZmwqBMA5LUlWVrT
        gyw0QNlB87RY7+Uqvdwmzlk+wh9X7OJdEfHYanurZfAuY4pLNoXTrdSlwi4QEf3TH9YxdRTDWLss
        biG63Ucy8nmdHfwny+YRiJUDZKE1YYCMiziBFgHGxvpzqgFuK7rg/PEQeAMJENAlBYif93J+NQID
        AQABox0wGzAMBgNVHRMBAf8EAjAAMAsGA1UdDwQEAwIGwDANBgkqhkiG9w0BAQsFAAOCAgEAekVX
        JF82i5t6JRcLven1N3a1i/k7YfnH8QQjrSfDvpG34p/9lH+D+/vvjk2U2hciI3tN/G09fHrv1Iw5
        VRDPYjocJpMU+U7/pMdhkpB2/uUfK4lb24P+zrq5bZpAMMswj+CkMsuc0BHPnSqtHFCXhbp5sx/4
        KCr7kc/HEO++DGdf+1YPdwrsaDT4rIXjIZ7vSoGA+9a8yQbHEcN2Tn+fFp4owHW64tbGTtmM53IP
        9drf5cQ87FN7wFN3w3/OWs/DNUT3dhlI1BdWngplvEWNcIXg2Q0IF/twlUHO8WHznPG/+6HQo3Pj
        n8LtMaVuBtPidD5AykECW/I9vQrmawIkfOfVbCcwT6tlXwMagGlv6NBmdB2U0KIc6D+xN7/auytu
        XArcEjz+3XD+gJ6fCI2XMAtsG9/ZSVMIrZw354UclpJdyY4s+6skRfosQYGOgYgrATHWhEOq76Sy
        GEZpbPkH0bXIMvMoOR2Lofvf9BlUu5vO92eCZvQqU4cydep4ASWcHI+yn050FUa+MgYoNQgC9yN8
        fXwwd9UJCcnDoENoyp7Br8GHu2wY+3baKHwtIycEe/I34x9v94i0QElb1wkC/My9khby3lKtA+za
        RVm/DAIVrCFZh7eLA6Q1xHl9CaKgCbx7YvbC1ti38s/pc6Px+6NfOpuGQse8f7K7xONeK9g=";
    private $llave_scg = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3
        DQMHBAgwggS/AgEAMASCBMjhLrw0F5u/24AA2do4r5k/mF0gkO0XoTdTZa798Kqp93lJtATxexuu
        d0nnLgQB8C+rUqqUPN34Mj3LlgCo2tqVFORa+hr1zBvAfnhxkVq6XXhDNCl5AimJUGA2pe50zU+a
        2m7ItYvaVbdobqWGIclzzwC1GO2qP4eMayvuHZNJDoqP9NhEFS5WRoEJgjCvmr+3/klheT1OAoC3
        yGGfLOqyoKjQ5Bylm4QYbNM333S0KJvhCRwRdEb271T1AhNf2kn0WPxyK5aD5m/ItfbMcgFIVW5P
        k4ZCm2sBCpNE9ujz8JrF1EG24cRuYicUqEBk8+gbl3U410nxdbooOPwQaniK5QGkxi+DldfwbMkl
        /DnWt+GAaINDWs909hYoqgPN6O8MeUA+NNes7RlkSbo4Ims1pjrWZtBRCItCdalfWJBp1LV0NOoD
        1uzbYL+KA1FFRmgcnuE2uCQbq7Y97yneHJspMDJcERZODklTmgNs4k9ag/mKWsENd1e9rGlGVr/P
        R62RoFRk9VKY7SMdEm2GAmR+oTyO+U0B2rBz60MBkmE5k5eF6QEghlDveVhP6eLiV1f7KlXglZmY
        x/t9fvzYhECqBqqyjK9SCO2iQ4Isvh91ynLy8/ziP346VHjv6OZq8tkXC1LHJdWd8W/NWUVHRzAI
        EhJCmVw4T6CEO8/tWxGOpBBEq2zl8lWpeF9pURC5FMeyxJ2OXfBtHNfkYjcmRrWILwilTCCVhGD2
        fg23GBhhHGr/T8rJT+FU4lbDOViNX5WHaUlnXjTWrKJQiT5T3Z5wS0FVDiO72c2A6jSDf9Wf+YaX
        pWrabCAqkW8SXvPrmJDhFxY8vP2iKGKFvUO0vesbKHGbw/c8y8Y3tatNFSIZpS0Zj3vMwD/IUm4P
        qk8M5U/NC158SWfuEKMxrdd3wLxBuCMVxaMv5E7JQE5lRWt+EAtq4R3vA+jRYVTQe53i/Wm+J7cg
        nNupeYMaLOx7/CfzCaxeykGD6ajo1y/2CAO/CmEIuUXyulJIuvjgRf/biPejd2VfKKpoSECx5PSZ
        wEWYCl8bQFcJcfjurqPZ+UF+OOZcuEJ3YhlqOTdtfSBtbVFhdaMGgmQ6zpgkO+j4Cml2LIFQCZPj
        1m5ca+7cM1w3vCRuGhumyzKcCFPd4calnKXGIFjf5GZ0UwJCwsSeR+6mTqcU6B10fCsAw8fv9GbJ
        tkbBR5qAA+X0m3DRj8qJzRWDMOyDg1ClrSOygm74heCIAUiRVMg6ddNiQH1jES4gD3whweNP9SUH
        LKqNboHU73R5/CEfjOA/TlGFifdfEwWL13hjcXZ1jkQhqNrbf6Bv1CRg90Edi04sObbPmXbOYrox
        3Zlyu/zyIASi4RYVZSDvD4uciK1+irB1/6GsLRiTJzRD51JyruAGo8WqcLTIS5Y90zQWddSivJTW
        DjVL36U+kGNUIukD4SYRenFKmfhMYZn6BFCMTTuQOYexm6TC8kTLEdVBibGxIYJqYGnwMpQIhPvU
        PFNk1CbDOv83SffdJwMb3ROub2DJP/Pn9gjFGQMZc/qyaF1jzsn9U3FLNU82VSOfJeNUO0eAz28q
        R6e8X02s7Rsk1DIO0mDr1JnmI88+r2wl94HbjCqojkYO5TQIZYTIIfa89dk=";
    private $llave_privada_scg = "U2xwbzE4NjQ=";
    private $certificado_odf = "MIIEqDCCA5CgAwIBAgIUMDAwMDEwMDAwMDAyMDI1MzMyOTkwDQYJKoZIhvcNAQEFBQAwggGVMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMSEwHwYJKoZI
        hvcNAQkBFhJhc2lzbmV0QHNhdC5nb2IubXgxJjAkBgNVBAkMHUF2LiBIaWRhbGdvIDc3LCBDb2wu
        IEd1ZXJyZXJvMQ4wDAYDVQQRDAUwNjMwMDELMAkGA1UEBhMCTVgxGTAXBgNVBAgMEERpc3RyaXRv
        IEZlZGVyYWwxFDASBgNVBAcMC0N1YXVodMOpbW9jMRUwEwYDVQQtEwxTQVQ5NzA3MDFOTjMxPjA8
        BgkqhkiG9w0BCQIML1Jlc3BvbnNhYmxlOiBDZWNpbGlhIEd1aWxsZXJtaW5hIEdhcmPDrWEgR3Vl
        cnJhMB4XDTEyMTIwNjIxMDY0MVoXDTE2MTIwNjIxMDY0MVowgekxLjAsBgNVBAMTJU9VVFNPVVJD
        SU5HIERJR0lUQUwgRlJJRU5ETFkgU0EgREUgQ1YxLjAsBgNVBCkTJU9VVFNPVVJDSU5HIERJR0lU
        QUwgRlJJRU5ETFkgU0EgREUgQ1YxLjAsBgNVBAoTJU9VVFNPVVJDSU5HIERJR0lUQUwgRlJJRU5E
        TFkgU0EgREUgQ1YxJTAjBgNVBC0THE9ERjA0MDMyMjZHNyAvIE1PQ0M2NTA0MjNJVzIxHjAcBgNV
        BAUTFSAvIE1PQ0M2NTA0MjNNREZSUkwwNTEQMA4GA1UECxMHTUFUUklaIDCBnzANBgkqhkiG9w0B
        AQEFAAOBjQAwgYkCgYEA5STcRXunA+n2YkfOPbnszrt+/6IrdfeiDKMmWOWDmu7y7Lbm7qOHwL8Y
        TUQO5MCIwlzPIzP/Cm9FqpQFzPT5vQFQ1OZA9bsAU+V2LCfHSGPBwXaP3F4pvxAObtQAZ8TpHD0L
        M4cszuY+t3xqSFIrD5/ItB3HYUASS91J8FYSRDMCAwEAAaMdMBswDAYDVR0TAQH/BAIwADALBgNV
        HQ8EBAMCBsAwDQYJKoZIhvcNAQEFBQADggEBAHfbND3i47jyImKTt4m0VGN/2PhN0eNFru7sDd/q
        /tFISHQ9V0ZqbG09AbkzUcgJ0AnFI3xdEupIajOlQ2ZqOs77/2k/WGtJxzxd2rPmNPh7P/H0dke9
        KYTV88bF7yZZRN2NGpt0u5UWMA62BjY0HkiAEo2Fu10a2fmUXufzMOm409hro1HyNylv6rf/qq2C
        IKPjbuz4MQB9Okp7vdGvj80v/qxPDfMuPmvR2MxyoHDGVQoY6DE3Q95fuE/QHO1vr17em+xv9ZhM
        G6TOvOP1EAasnZ74OZvx+QX7v5A71xrS0s2ZksYrqo24IDRIGJCHyfgzcwEMEdyDdyfHbFA5DcI=";
    private $llave_odf = "MIICxjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIPWx+fWpAjKoCAggAMBQGCCqGSIb3
        DQMHBAhgMLFKSnBl1QSCAoCMhETIkhZkUHGMq+zNGeGl8hFlpbhlk1kcC8nEQx6rH84wujS69IjQ
        TpZmqhy2ADYNbGOUIuARLNNrCqRJM0dd8IZmeBnotFOa8js5Iw+qxzu18OLP3z5reF7rlHW5+5mA
        qGsCwG3CPJsh9+1InnQEc641kPSpXAOpOlPZaQ2ed9T8BosWigqTPU6xATfRkw5pInKr8Uf3Jpli
        5gWQPem69uI9nA5IbRTFXpupa4yZonV1jtDN9qMvluCcDjwS5kLvoOQmcZ0e+4DnNa9WTM/QyPxR
        Qf7O9ShyXkZPYjaIYEkBhb/ZJmaoPZYRq00arLJoubSCybne+1OX9TK6XGoSEP3GSENMZa+xMKA0
        B8+puPSapcEGsbr1rQElGELHSs29jGIxdvw7ra2J8w7/qHi4ryIZGUYQXFADtN6sB7cnLjFPhh0O
        mogrcSOB+v6KI/AucjSMxaXg/epSGl8hJC7R7FyIEnCwwaz3kxgqlqX64nJMpTECx7BWkDqeFNsB
        /FTPEsz0HsB5ULMNWFMjKPyL9repqCeuiX1B36bYD18kMt6CLxG/tU7lbC+T99KclduwVBzstSHY
        jQb8Ey5T8N7CgVo0NEL6NXJBVzB/LZvMhwNJtYXKneLLg4etchS+cY22AnNJvROZTJMEsFaELE6d
        R3tWCFtrmTlHsg7GqYnQXSrVLhFkhdDqFmZJnFwqYnbN9oYlHTmF+TtMQ9HWpS/AJuAOlFeJLFY3
        cOb3eXRkLEOZajIIvFIwXQn6a6gpdUU8tEu3UFAm0lXAy2SSTcVjBZ9eG3g85lyPGZ/5CbrOm3w0
        N4W3nRQT6H9o/gSz0Tg7PVgQDiV1hkYKLCdh62hw";
    private $llave_privada_odf = "S0lFTDM2NDc=";
    private $certificado_gsc = "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";
    private $llave_gsc = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3DQMHBAgwggS+AgEAMASCBMjVZ/kVcORdYCW3IuuR6y1FNjgSWUJBv12dmJ4vXY9Dzlk4aMDm+YKeNjuVUuC/QV+SLe95/IBw8nfoLO9MO1JCwxEHhMiI/BtD1AxX+gn0fj6vs6e4U6WkSGm2qrq7FazdntJa3IMmvYUPAQ9I1noZ4EWmIYL2mgrskQMvTTT0cBVGioqK7RSWQ08+f+vqZc5Qv+X5V3EzQ5u5WlKjZzltFR2hQgAEySYRJFumV+gwim/8T3PjReMcgT0c4iaWHTWnhfHBCQ8LjsswL86cqynI0fBNFwWEvYbCye/x0F/a0hb3fHQUgIVfuFtB9Wlv6Ld9unGbvW6VEWZCUgfwsHuUHQBIBf0F4Jgk8ELbi5/eZyrjOXbDQ87xrGwhu456HFI0+KOkz3riAdxDJ0PUPqyeRyo/MJyAR+WGUSkqFcx/6XUvlwLx/NWOzi+FfeYCtnOXIMAy4qjCjf58HLrBaV1EKLxn0gvwO00e+qrKD5yKZayhuqGPMb2t8ZDB45/E5sj9FzZ/k+Jk5gH1nMS2Fg4DIR2v9ZRjLzJCKysDvvFySWHy35gCOmc6HbjvhvoXTc+8Vz2WdcRJjJyKgLBHFb/dSJRZJ8FrldF3s2dLKY5WJpgdhwa4e9C7yx69bGsnMEzm27lMoJnosaKmzgibS1Z3+j8QXCXSpN5gOQywqiqwCAlgtfLZsaU4QpnwGwW2I3mbAf+dN4Le9FnOfLgaowaBUT1mgPAxaFV7PmsBTKdO/fyQqOJKNNL0s0b4Yqg/NZg6wNzZ5qXoAmg6rezsTdxIeVLy1r32riDcpSnH9DKWCWPJSW9he2jhkiJyacnWA9L9UqXixfcn+HuPxmfSpzq5AFp4F+qE5fxUX2YAJ2Js87peBqkhTPDRB5JkDMve1HzsPWTSyLXaZMQp5Sq0XCvyeOVwrP6APDjq84ZRtEuvzWwbqA/thrFw8jK9m96wDlETdcG17NDCEfsKp7qA5n0n/8iue7LOW2uLPFnTajI4kcFvot1KVcyB5CHyU22OKwfO5GpBvmFksgSrUVLMNBglh0T4ehUXeKyJmVhAGZknWgQyulFMWj7NEVKHwRjX/TqLc6ZiKLhKlYHtQsEQayzZUwBDTBE6LKNpizKpV8WUGqTdpRoSoj8AljHb55eR5BU2nVO1pdFvEfGseLiY4z7+tEfGCLhj7H1dObPl/DO/5AyeabNYVtQGi8MsGdagmq3YlK5sf/W+5z4t15U+MHOikvME+zot3RY1uBjaQNlm7D54RIoP1W4Qgjb94vqCnADaRuTefl2+MfjpFRjeXU1XLM+HqAkw9+SDb/2Ob6VmA9DIwzo6FKG2zxxwsYoY8w0iewBSIgGD5DppAsxrDnR7HDQCyHVgVmrYSrS3kPsJW9u52X5lEhpl4GTDHXvCkEcwUid2YQO5JvirMVeU1+vRIndWtaQFAZwMeFH/wbYAk2K1xSBcY2A1Vz7AnN4OLjp2K3b2PZI+eqiFkN8XWdFvkMbWO1NBQp2SX2Tf127MopRvtFnyPE7YKgBngqcwP63by4Q4FL1VgcZ94bnavRupDNZaWxxz5XzdbOgP2cOxXXGDWqiEB53ddWOwjO+v2+Scf5m0JSI1jHX04U2Qo7SO9bd4DyoWxg8=";
    private $llave_privada_gsc = "R05TWVMwODA1";
    private $certificado_ast = "MIIEijCCA3KgAwIBAgIUMDAwMDEwMDAwMDAzMDIwODI2MjIwDQYJKoZIhvcNAQEFBQAwggGKMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZI
        hvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBH
        dWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBG
        ZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMTUwMwYJ
        KoZIhvcNAQkCDCZSZXNwb25zYWJsZTogQ2xhdWRpYSBDb3ZhcnJ1YmlhcyBPY2hvYTAeFw0xMzEy
        MjcyMDE3NDNaFw0xNzEyMjcyMDE3NDNaMIHWMSgwJgYDVQQDEx9BRE1JTklTVFJBQ0lPTiBERSBT
        T1BPUlRFIFRJIFNDMSgwJgYDVQQpEx9BRE1JTklTVFJBQ0lPTiBERSBTT1BPUlRFIFRJIFNDMSgw
        JgYDVQQKEx9BRE1JTklTVFJBQ0lPTiBERSBTT1BPUlRFIFRJIFNDMSUwIwYDVQQtExxBU1QxMzEw
        MDExSzIgLyBBSVJWNjkwMTMxUTEyMR4wHAYDVQQFExUgLyBBSVJWNjkwMTMxSE1DUlNDMDExDzAN
        BgNVBAsTBk1BVFJJWjCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAjT09p6tQN56WB2RiFmxJ
        LVV6y+brKGXu5wotOLH4bXZap+/PyJ2Dz+S48zUp+FiMdhDQAjU9rYRQ1jqHvSElXdVeKQmnkOja
        SQqj01AysLNTvl/e6WquCF1Nokw5vMc7VDRu6U0bQgyiREHmidt1D95yMxIr8nc20abR6Kb38X8C
        AwEAAaMdMBswDAYDVR0TAQH/BAIwADALBgNVHQ8EBAMCBsAwDQYJKoZIhvcNAQEFBQADggEBAMm2
        /mYB3fJbn2TK3vGsJqXGgTT23GZR6PsiykfCwaBiAUVzR+5PIwkMBcXxz++kY+sZUhr+DrwY6Kvu
        ZJflS1Vv9jD5eenYYK6A2UzeGoJd8EcHq2/LYum5D9gDZtYAFRVNVYssAXs/IAvmE5f13CT/3j/R
        Jug9+CH5NtKegOzhBYHkILTIfnQoSZuTUmbDZ4cHLIhZM9K3UzZcqoHSX19m7GH5gR4/ZTT5Stjs
        Dj2oK0QaDiMl3IbOd8IvQjL7tLEBmGEi4Yp4/eftWieoiD9NtkRJTcnWPpMwYBePk8Ypw6nXUIzV
        sksCEEptNXcsmKtkNZoSdi8TxFYa/W9EI4M=";
    private $llave_ast = "MIICxjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoGBAI0CAgQAMBQGCCqGSIb3
        DQMHBAgwggJ1AgEAMASCAoC8CLH+Lz4xz77Uq3xdy+AfukuIlVIqWNEGymhSPnvLc5JOv/O/cMlv
        ZHNc6bEoOlFD3PFg4HZ43KdvNqUXI/Uf4rg+uFRLD5cSyDYLeGYVyf0z19BZw9HCYOUKrWp9MYY4
        pKpsbpWUoi3JZvTzEFHuaQpzmfpE869EXyxrXq4jXA/CdXEtT08D8kWx8MLPukAFOUeCqfTW8lia
        SwNWNl3F1aBJxxO41c4qRcVqYtjvNCgb7dpY/CqX59hK/7BhDcs/0DGxf1EzMGvObapjYyI3+7nT
        VWH8L54nQrleB32132jDV9bEr1ShJ7iCNcewER2wLoSmtNs+GJkjLZUEzrBaeeRnpkaTGWzFsbTj
        p4MaWPOiXS0a5YfVRcl0n1PlcbZ8FM8Jx72Y9/f8ovAW8X54diwHWj3SJdyWxAgXYnBsM4KSxGuk
        FPoRblH2+DOKd1zxO4XhCUmBggb5KExVVK4Stf10vWSwVteIiXjwu+83ywb/jX+rqwR1FDMO2CN6
        ZvkdsAB9XWRMEuM6LVT3Sz5puoRR1XOVu/2DQnOYqeSsL87r/rhtzk1GfAm+KI3GFtJOx1TmOt1S
        LEb9FgsgcA0WD6DvCGSbVP1avGy49OAuutzlOVd9lnjBwxNFH2x5GD1A6SVQxrG2ApAgm8Cydb1I
        W1EMZRxsgA21YEyCOeY5xkXKyqsP2kWG7SpcigQ2yCSyJl03XgXvK3C4xi0IXXnYdkTVBkJ/jAEv
        MaTj3iVc+g1GLzMRB/GYcG9nBEwTMO8KPz+qJY/KPp02oZn4Pizg4jTnpXqLCHBHTihYj4AtGxxm
        X/fNGADNYscW46b02/0wcYpanRzqNYb8DXPJKnAk";
    private $llave_privada_ast = "U01EVU8yNTg5Ng==";
    private $certificado_sic = "MIIEzTCCA7WgAwIBAgIUMDAwMDEwMDAwMDAzMDAyODMwMzUwDQYJKoZIhvcNAQEFBQAwggGKMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZI
        hvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBH
        dWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBG
        ZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMTUwMwYJ
        KoZIhvcNAQkCDCZSZXNwb25zYWJsZTogQ2xhdWRpYSBDb3ZhcnJ1YmlhcyBPY2hvYTAeFw0xMzA2
        MTAyMjI2NTdaFw0xNzA2MTAyMjI2NTdaMIIBGDE+MDwGA1UEAxM1Q09SUE9SQVRJVk8gSk0gU09M
        VUNJT04gSU5URUdSQUwgQ09SUE9SQVRJVkEgU0EgREUgQ1YxPjA8BgNVBCkTNUNPUlBPUkFUSVZP
        IEpNIFNPTFVDSU9OIElOVEVHUkFMIENPUlBPUkFUSVZBIFNBIERFIENWMT4wPAYDVQQKEzVDT1JQ
        T1JBVElWTyBKTSBTT0xVQ0lPTiBJTlRFR1JBTCBDT1JQT1JBVElWQSBTQSBERSBDVjElMCMGA1UE
        LRMcQ0pTMTMwNTE2UjMzIC8gTU9DSjg1MTAyM1FQNjEeMBwGA1UEBRMVIC8gTU9DSjg1MTAyM0hE
        RlJSUzAwMQ8wDQYDVQQLEwZNQVRSSVowgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMRAM+W1
        yn4j3RPoLFgcUGAGuP2wPh42at2BjhY+o30JM+PFU2qE/q63vpOthmTK0HNwS2uEvcUV0i6ALMXO
        QLNE+ieZUOI8A3G1NYNnl79r69u7eisaluTzLZJX4uKCzXRQ5eTGv9IYy4uUPpitmCtG0RjpyYII
        6hIktldaTvELAgMBAAGjHTAbMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEB
        BQUAA4IBAQC4pSmj1Ahgpwtpk7/4ntHr92PEsenNzm1JhBYpfX5d54+KUflqwNN31DvaY8TKOVMT
        0I9NDO4S6fJ2k0bzX871UpYm32uz6xUOnyMFODVOi1H7inYD+3CHobgOccRb6LgjPAvBHVcdrBzQ
        jV1ZQ63eTqw1gDvKsZ59m/jbp8eDKzNwq1PufQre9FbEah0oyvq4wGOkeXeET7BO1I5LszA5pYll
        uVPvaGjR7adAzvqIEqbsZ3sYS/WGScnGsvl2h36vHtyBH6Hes6UTKLQu/KQFol0soIArgulZssrj
        PCPOx852asHBPKKZpMWzuQdqBIBIgSwSDn0DOi75P0lEFdo8";
    private $llave_sic = "MIICxjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQImQOLD6gW6A0CAggAMBQGCCqGSIb3
        DQMHBAiDVfLOwvx4ZwSCAoBc5qu7F8E9DTxGbc8MPeeWdJMDdzVjIo6/MJuppC5btMvFc7rfXzCq
        RxyySdXfhbHyoKyqrGlIbNtVANI50h+dBfXyrhmtsmIE5eiGQR1ICA9oWmSzhv0z+rJQEU6V/smr
        gfeA75Prr/Eb9UEpdWKQSRDleSlJoi9iyVx5CXnvD8kO3Ae/z3qyfg7orz5UBM3YVzHB/Le8wmUY
        ARzN5UvmK0Q7WBM+bqRhKRJKO/qqVrDLEbTCJ8waN99KbCn7kjmjgTtHVsU4KE0NGg5RsHAuodhY
        ddgEHz68dWWL/qOspvMx0zohkqFpJJd3Vp2mG71gl3gtqcK1aeIXKndd5QxRJtkYsccvvy0JhBQN
        /7nOJO6NwjnlqTTfmgyjInv8asYF7ej5n+o03GvTWmmY3CcDZJKsocc8AltzW0c8J4Y/IdvI9PIP
        TCg2GPOoCJIEWs1ne34pvNSbFSek5eNoWWz2gIhbUV02T4HvzAQGb8lIb8Z+qRrXFwwJPTIw4Yk+
        x+FznngSB3NOAynUQ8htgWyaagsxJQeRabmfRmSE8A5GPgc2OqedoDNJg9GuVK4hZzQxCdjZ24E5
        INJ/Zbq6fBE8WAeudNfwiYlq5frt4yCUQuPD70wdj6S9rhzsKGAFze5rIYtJX7EYWunYxzYBBqJn
        L9dWOIm3PqLhKjtLwZRzEtCRQsXxxkqNR6mrREMHSm2L9Fl0qnPoOZPVhdgNlCJ3eDD7lcX12Tm2
        wzVj85UfAckVu9rRGsi6pa31thhzWCPF/QGXadYymyhqnFH9U8ovA3Z04lf+DDK9khhGT8uXaPtj
        PCnzDrPxmfq1lAJYrK0o3xWKOxsQoHjG0/MoO+MH";
    private $llave_privada_sic = "SUtETDMwMTk=";
    private $certificado_xiimbal = "MIIGHTCCBAWgAwIBAgIUMDAwMDEwMDAwMDA0MDAyMDgzMjAwDQYJKoZIhvcNAQELBQAwggGyMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZI
        hvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBH
        dWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBG
        ZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJ
        KoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2Vydmlj
        aW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTUwODIwMTc1MjE5WhcNMTkwODIw
        MTc1MjE5WjCBvTEeMBwGA1UEAxMVWElJTUJBTCBTIERFIFJMIERFIENWMR4wHAYDVQQpExVYSUlN
        QkFMIFMgREUgUkwgREUgQ1YxHjAcBgNVBAoTFVhJSU1CQUwgUyBERSBSTCBERSBDVjElMCMGA1UE
        LRMcWElJMTIwODIzODUxIC8gQUFNQTc0MTIxM0daNDEeMBwGA1UEBRMVIC8gQUFNQTc0MTIxM01E
        RllSRDA0MRQwEgYDVQQLEwtGYWN0dXJhY2lvbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
        ggEBAIWNM6DFmpTHJx7xGax43KDe4kqiF6KBKU4bznWSDRAyJRIS6ZNQoofSsKe/jZ0arbV+vX+N
        REncWaNtguCt2QMrd32fSNomZlk4sCWLZhDq7zHzMitoEhgSxGMvRwnQHjowQKIsgzAzALt8eDgn
        tmBRWD1Hd+KzrA+P52zP7r+ncuNnV6aKNowarL7ieoCP2LpOW9y5TiVNVmbf91CxDL4xkWui+OT/
        TGr2XC/4mAkoWOWypBxwELOxXDlEgcWC+jT8VSF1QF3jAXmwubDvnTOXR2pv4fuzNg43DcfuJpsK
        Lz0etKxOjW7drYWnfsEjS2sPNebMDCVrXfHX5fsW1uMCAwEAAaMdMBswDAYDVR0TAQH/BAIwADAL
        BgNVHQ8EBAMCBsAwDQYJKoZIhvcNAQELBQADggIBABynJPebAAk4Rx6uBcxhuuSwlRgVmMxDsYdg
        7wAyCrVbUFUtFJ4F+88WBVuVjcbAJqjfmIV3rJVxPsDBcidSamDgNuSsuCL5z8dQiVFAFnHHSH7s
        rqSEQhxxgno610bxrO3rC8ScW491ifdHbfOAeU7AcygIwMXIpzdu+ZMsYxQX1IV3D5bHYi8EO6gv
        AYdKGWOHE0+rVchGp81Sq5SbypAjZDBXxWJ8QTavJs//ELMapnNqg7Ojlmi8kjHMuF+upLxHXhj6
        WYUYpp9QCvmwCrf5HZr6wuyUxt95LaWEtZ15dJxB5ZK95wX7vy0IjIkNM1oVg1BtPVaGmL/XTrm7
        QDlVNW76yQIzifLrmS/YiLFJfm8AmkPY7m4xg8fryXBQyimLOaG5/ROf7kgiUTfN3shce8WExgzu
        2kraiXz4+vNvCoa68Wojz2lcfCnRu9s2r+BqBKC+wLibCH4pNncMqSZso7q+vU1NuUU11yhsi1Ty
        75WFeyWNOSRx17j46YMKPjM028IOOFS1XLbGc/djwNcP5F4oKi7jV+kIyVUoTtmzwcd3RPxuDUpR
        Ulxtxjg+lOWDc8uUzv6lzGrZwd4GFcp3nzahmbINNIr8knh2RWb9QHs8WxJjzUKLkWnLDUWlVjnk
        3q63CtMEOkaCbKhWgHre6ZjMzk33KPzERArTwwLA";
    private $llave_xiimbal = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3
        DQMHBAgwggS9AgEAMASCBMjqDFE028zEOaI9jVMVSnjxkmnQLFOZeBqj7Jwdl9KxhFysS9NdrLFf
        WkepEzxEonKdHN/BLvddvNwQzqYsF4vjYbWn+peChugue67yh2vvOXxskEBTd9Y4GKS2CNnG604a
        J6haw9beM9EW9Ek25mynx/TvFvX4koc7JUhYUEd0jgyMDAJ8rnGj28nBVXhzFmTbxpoiI4eN4GEX
        vweBQJcX9SnqUnyw4oP7iMewefiRiXZoYcgNmBNsdu1Ehz96wP59Sfdygi7fTDLQVPq9YTUAAz3e
        xgk6b5LSkKURXn773PlQGM1hDig10ayTVtLFD+gXWwSSfIiBh+MdZj/+XCxFFjqJ/5i9PjaFCpTG
        s54ZrKHHbhzuKS3HZnd7KXRrV7CFyktfdPZSE8c40GicIRxm0Ma8QunLkdz/Vf+8l/ckKhUhgDKH
        Bx6bHDL/fICop+G2fUBHRxvZaU49mR6mx4lKh4aQmqWLYSsvpXZWFQeKrwBtCiSMz2Jnfd9IWV71
        lsD8oW4buAwPGAs8/r/xtsW7RyNFTPixIZ9WJo+rkd7RIrtnDNuLppJWuqn1WY2dd27r976zI/oG
        gocxy8Do/+QBObE9KcTGUX1lRtsdFFPj4c3mRAUfZR8s6fbMMq9iDD5XZspF+qmmXgbMeJhocNap
        Gqkcy+ICmwlOtFP8Ex5Jpt+nGL98gWI3R6cRQf9isAua37S+/iV1G/b1gb0/GoqVnIAdcfp3UvZR
        N5nvmAlEiwD1B290/TCqbuaeSZHjN6t6yoUV4Cww6LR5+/8Spw8ZbUGhoUm2qBLU1WvCoBAZSKQv
        1NoLo6KiogMMCkLEM21np2Ppm6/8fo7LFPN1vXiROnSG1L+2rPNCua8NDVewWr7DfheuxiayJgMQ
        WVqlEJIKGdNJ7ZNjx67DbyXVTwmoZ7Gma564ucY1ZotTkWmYjh0/0TsLXFi+ipcTp2rSJBvRPmuZ
        3Xp/2NiDJ27YLiebTpxalMv2gIZqzp4CbijrwDRL2xUFMxbGP229osMjeJcSMkgqWY0LQQy07Hyj
        YrZYqNn3gHvjFFfUAaUr1q2Sj2XZ+jL3+2kKabFzgx7947Lg6plXIF3T8wwMTebEOiiPuZM9XZT6
        ipZvwWFo/2ZWbcU7LS+j/XDOFNuXAy58Eta/JkkyxF1TaZ1TP8uhCfpkL1wDotG8bx8fVLCDJPXW
        7zA2ej/iNAiVI6ga6GzYdDvBe10d/s2v3oJYr7b5+cxFOvFRJlun9KijyY8crBzCGkN8cS1KOUD5
        Olq7XFrB/hakAmw5YfQ7RWbEO9UdCtjn2sZU4jgVLO4J93WIkFNvvW2VrHt+Yd8u35FygdQV7LR8
        Xw0xWc6JUhUXeAMcNFfC49L0vEA0aHtZO23OxOp7eNnZNvBUPC6bt35BUiJPZxlIMNXKzavAuyVS
        Es/93KLjSm6QRUY7UxXLP/Zsvaw+sMgM6VwLLX+HACV25oMBItHZxSW3HEe58C0ElExAtqe9meBJ
        w4qSCeJrgAngO2XRUY1u4+/8exUGKpHN98QP49bmE8S8aWg7CE/AecJObbKjXGZ5Wy3RYqpRCZ+e
        jFk82MXuFrpzFNNAXmf7XXwTe52BUuU7tI9snYRMkQmmCmjt5cV5/Cb0HmE=";
    private $llave_privada_ximbal = "TWFlczcyMTc=";
    private $certificado_alarplus = "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";
    private $llave_alarplus = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3DQMHBAgwggS+AgEAMASCBMgi5FPhM5eCLLJbru5c9DCVOkdRZNm9RA/7nlPUml31nj/J3fXuGX7zHybqKO7YFsmk8ln1DwxUesLArJcy7dejCWWQm7qVuxnTgnQkqesg9cjfLmdBdZYbgwNZHTZkZeWO905pavvAK19Hovnh/LgYz+5j8ahS9xLmn9rq5W0cLCMSJVyF663pRxxYy2IaKesfGWqomy3D5/kD8bnZiIVFn9FMjtFPp+Mi+e53wuL/vuFjcujekfqBVtJGZy42vuMkOQEeKgpxath9sCwlNHITWShPj8k9+jvxC5tN3J4NyRb0J6IPijRmw/7uCyF4vI+2JeHzwlKKyG/E86ukhiu5usJ0rrx2nq3mmH0HU9WrUhKJU9SNKPblfyvG/R/U9ETO6uKPO2l4NyC+kGv4yXEQ2+nTGTlrjvcOtdfjkzXFnEnTLnKpmo7GE9r6L9FqHRttPpWFtj6j+CMPCd84DC7Ra1ho4x1lTuX7l5C5GaPq7AQRgcxDSpD4EWJA4OWyOO0r0Gb4SuBb6t+NZvgcYmf6DuIO7BG/1uicm6r8o9BkWZe6F/Y4klAQNZeQ8Qp3xV2CTD1VsQ2evNY+EhV5pfhlndFOqBaHM6Cj+VCMq//saRz7uvQvXcvHVX0p7fve3jdqQ2ActYiSXfl/Z8W3+cGT0TaCu77qNnCv8ocCDVZcCFMGRLAc2oA1UIjx4P5mk1ww2qXfnp04LvBD5Yt0QfSoQvyNYZ/nxrHwQ5uD8cQui2FgJednTz47y/HZr8hsLLBPUXdrC0a6+dXsZXWqp8LyNamhlCS7ZT2iIN2iiBKQcjqq0YaZGUBtArjXByX2I9V9mYPl/aG84wTJOmqTsYmdVoRFcPHFqZ/yOPnOUSGqbYo2YuQD0K9P+ZyOFgXwKAUccc2Lf0ejZakV+HeY3s1StT2+ZLOgN6hUiByJhU7L1Zxd2f/mg1HmUSrD4HnCLiKpZbLk42VfxHzaO8leuWUC8p/Ugn34sX4sdgiiEMVuJFU6I0NWdZ6uptVL7a+tzqlaHujm4F8qNT+CNowT900vAoq4F8DNPyv8hQDqcaw/NTTQxO7CL5GjMzWIFBrIVxzSWvml/sroZ8ab2Xt8wqdTqPEn7/8/AVymHdo7MT+RtqZQ1ylF1UV8YAi5JmL3YxaX+p3ebknRTDN6flH2lgSnJkGpUN6/JdpoAr/GVpDa9OG/rqRB4CtjkEuMRXcm3N7S7/Nk3MXVppdRBH0AtjfwZYWZGBSckozCscvCAWcOZuCf7ozPE9MDN0+mmhWqveibgu08V1LYZGNPzFFxT8WkktO6aJKWhb7V50tT9A5CHsCDrD2N/rTvy0wLVYAf9fI00HwoZxGReWvycw4rdciswajNVKaI17m1sPY4ooq+tPQqb7I4cVV8g/k+VuWq7oLetuvPW/D+Pj/42kHkHEi8zmGdwcD3R7uQMTD0wgRHsuxIh3YUj+9PQHxE3Mp93KDU13UdaEoFUbAWFNic/pl3vREbw9ws7UgUVxd7VjlvCqy9YOtahN0YevRKWnO4Qa7YdurB2sVFtbJZ12HHcitszW8apN3pEFd5WGbj3bq2eNgxofXS8j/VVkumob3wdkkvXj5iRoRol2nBBxUazOCt//yocvoMUeM=";
    private $llave_privada_alarplus = "WmFyYWdvejk=";
    
    private $certificado_lar = "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";
    private $llave_lar = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3DQMHBAgwggS9AgEAMASCBMjA/SWLBB+0NXqRLbmYfIAgdPUHKFI3VI5286YFmzsj1mklxQdA2J6R3s3PmSnPOdUpgwxKA/5TNCcQKlaUFBGemqvVgk/TYUBjISiJQHSi7VJtRZpNhmUkk8k2cSLVVmf6DFGnnX9SEdZ8c+Xky0tu4xHCcUisdazbmZ9cdbKftqlGgUpe8ZM0b8xJIFM/sZqC5+T0gP0gWWzQOG3i6Agehf7SpjfZjl0dmXTaSFzc4PojtD9+pionWA8L9j77r7K2tMqVmk2Eiu8QXVvAr6wFJ6EAcsmYHHSzZlCod9P00YwMvJDPxqQlbxCLoj0ZmBEMujJrbQRLFrTb1kR7iUso6dmy0bPkmt68mC+9E1+bzDg0LaU6f/U5fPc9sIzDPXF37rCaASTnxO3jKy+tvC5eay0u8Szzlwp0Mm3im1IjR9UIN59Nht28Fzp1s0gYlAsMRSk6o2EoXR4vS39in09C56tYvQUumip3Mue/uKbbijjwsNr9LoKuKBfE9QoWFnGB/hh1TUoARJ4wEojziaWc4Yngs8DTQay53z095C9sfXDGnLYYCOb9hbhHDLZxKJg8Og7RxDny1vOlM6OY+WT23gYngA63j4GZ+qeZRxLmfi/wrFk0hAPp90uX/dWA9UvUI+6fk3JawiumNdtqKHSijSukmyKW61K9RQv1WV5VsLK3MWfPCFCRb1eGTRmTYf7mKj5QqZnU+uQZ05fnLN8BjuOlMdlNpEoBK+WCrYog7V+Bk+o3yHCMvLhkHk/lihiNGq/MvcAcZ/6kegq51nflUuVu6ZKG2rLQ5ToIFtZELCU4jsDjEFw26qaPeeJ8b1eM4jrxzloauiMX2V/klqTnvLOzWnQWQoeput/1FPFky52oye1hKLvd20c/9cT3aCuXgwTQwFCc29it2Xx2YLobemiRluN7VvV+RzzK+ftvOSZ6TtQJHXjbn50/95S606yIDSg0wUI53G9FsYO3RPqoTjFGozkn9G3JKcYqbd+YbvcryP25Wj+H7zpUOey5gqs6UUHyDMIbGz4GvPknT6Y/ZL54QjarjRxnBTb5Kpo6xDR+iGaFsB5S93sVPjRsEIaa58oDCvT5FmMx67YJ4SnPvo1TjAB3NSwjYQzufV0ZLTQDXfirSnD63E/jTrldgm6/d9Vks9+ULurps5uW8SGMdp0eA7PLuDdvQeHlsa6yKODzDuZtljBcQFjFIdyovuyH60Ux414j5iuGXcNVaR/+cjE2DUTOXbd98ow/4yq3FUdRQzAWREtnyRoBqj3ChHflRBCIOp4lE/UIGWgNkr5Yu6ZYgff3p6HzpoVIXAGBdq8YW6md/Wp2j0UtWaNIsOPNWv+I9PDIca/sh71F3v/LNrUNLRb8ka/Wf+Z1Kux7LMgkPvkkLJ7KWbGofFDPb7dzxg0wnhjVuQ98EPm9ypvUm73VpmfmQp9byiVAwY+IAJWkSwzBVwzNVgf08B8q8bsZ8X7snG16+L+M5m0wkJJMBHhjaki34G0q68KfgDwaFfJ7fXVro05Tv6B7IAnl7fL3oaN5rIqlIVYXgbiFuESgsRvNMbz2v85oJLy+IOwqoHeFSjNffxY6kwJTPEm4URKv70A7u/Dp7b+APdrUiwBlGCsFpUsS/O4=";
    private $llave_privada_lar = "bGFybzZsczc=";
    
    private $llave_oscar = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3
        DQMHBAgwggS9AgEAMASCBMjA/SWLBB+0NXqRLbmYfIAgdPUHKFI3VI5286YFmzsj1mklxQdA2J6R
        3s3PmSnPOdUpgwxKA/5TNCcQKlaUFBGemqvVgk/TYUBjISiJQHSi7VJtRZpNhmUkk8k2cSLVVmf6
        DFGnnX9SEdZ8c+Xky0tu4xHCcUisdazbmZ9cdbKftqlGgUpe8ZM0b8xJIFM/sZqC5+T0gP0gWWzQ
        OG3i6Agehf7SpjfZjl0dmXTaSFzc4PojtD9+pionWA8L9j77r7K2tMqVmk2Eiu8QXVvAr6wFJ6EA
        csmYHHSzZlCod9P00YwMvJDPxqQlbxCLoj0ZmBEMujJrbQRLFrTb1kR7iUso6dmy0bPkmt68mC+9
        E1+bzDg0LaU6f/U5fPc9sIzDPXF37rCaASTnxO3jKy+tvC5eay0u8Szzlwp0Mm3im1IjR9UIN59N
        ht28Fzp1s0gYlAsMRSk6o2EoXR4vS39in09C56tYvQUumip3Mue/uKbbijjwsNr9LoKuKBfE9QoW
        FnGB/hh1TUoARJ4wEojziaWc4Yngs8DTQay53z095C9sfXDGnLYYCOb9hbhHDLZxKJg8Og7RxDny
        1vOlM6OY+WT23gYngA63j4GZ+qeZRxLmfi/wrFk0hAPp90uX/dWA9UvUI+6fk3JawiumNdtqKHSi
        jSukmyKW61K9RQv1WV5VsLK3MWfPCFCRb1eGTRmTYf7mKj5QqZnU+uQZ05fnLN8BjuOlMdlNpEoB
        K+WCrYog7V+Bk+o3yHCMvLhkHk/lihiNGq/MvcAcZ/6kegq51nflUuVu6ZKG2rLQ5ToIFtZELCU4
        jsDjEFw26qaPeeJ8b1eM4jrxzloauiMX2V/klqTnvLOzWnQWQoeput/1FPFky52oye1hKLvd20c/
        9cT3aCuXgwTQwFCc29it2Xx2YLobemiRluN7VvV+RzzK+ftvOSZ6TtQJHXjbn50/95S606yIDSg0
        wUI53G9FsYO3RPqoTjFGozkn9G3JKcYqbd+YbvcryP25Wj+H7zpUOey5gqs6UUHyDMIbGz4GvPkn
        T6Y/ZL54QjarjRxnBTb5Kpo6xDR+iGaFsB5S93sVPjRsEIaa58oDCvT5FmMx67YJ4SnPvo1TjAB3
        NSwjYQzufV0ZLTQDXfirSnD63E/jTrldgm6/d9Vks9+ULurps5uW8SGMdp0eA7PLuDdvQeHlsa6y
        KODzDuZtljBcQFjFIdyovuyH60Ux414j5iuGXcNVaR/+cjE2DUTOXbd98ow/4yq3FUdRQzAWREtn
        yRoBqj3ChHflRBCIOp4lE/UIGWgNkr5Yu6ZYgff3p6HzpoVIXAGBdq8YW6md/Wp2j0UtWaNIsOPN
        Wv+I9PDIca/sh71F3v/LNrUNLRb8ka/Wf+Z1Kux7LMgkPvkkLJ7KWbGofFDPb7dzxg0wnhjVuQ98
        EPm9ypvUm73VpmfmQp9byiVAwY+IAJWkSwzBVwzNVgf08B8q8bsZ8X7snG16+L+M5m0wkJJMBHhj
        aki34G0q68KfgDwaFfJ7fXVro05Tv6B7IAnl7fL3oaN5rIqlIVYXgbiFuESgsRvNMbz2v85oJLy+
        IOwqoHeFSjNffxY6kwJTPEm4URKv70A7u/Dp7b+APdrUiwBlGCsFpUsS/O4=";
    private $certificado_oscar = "MIIGBjCCA+6gAwIBAgIUMDAwMDEwMDAwMDA0MDU3MjQ3NDIwDQYJKoZIhvcNAQELBQAwggGyMTgw
        NgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEv
        MC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsM
        L0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZI
        hvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBH
        dWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBG
        ZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJ
        KoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2Vydmlj
        aW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTcwNDA0MjM0MzU2WhcNMjEwNDA0
        MjM0MzU2WjCBpjEeMBwGA1UEAxMVT1NDQVIgTEFaQ0FOTyBSQU1JUkVaMR4wHAYDVQQpExVPU0NB
        UiBMQVpDQU5PIFJBTUlSRVoxHjAcBgNVBAoTFU9TQ0FSIExBWkNBTk8gUkFNSVJFWjEWMBQGA1UE
        LRMNTEFSTzg3MDQyNkxTNzEbMBkGA1UEBRMSTEFSTzg3MDQyNkhQTFpNUzA5MQ8wDQYDVQQLEwZN
        QVRSSVowggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCki5289IVjFYIr9RPApWrCZ9JV
        O6TILQW2NRUrhVqHSR47clPl1EagnDiz+rBs+9cnQytCUKZZaRbTeWbSErwWGFF/7p7vySpB2znW
        viYhmM1TKwZEB8qpq9xRtVNdSgwgxtydhXIEMwv5a8CYvSe6eXgW05Qed/qF1Mkqs40PElzlzgLK
        G2XqpLy7fd1bHdl2IaMYVWgjhXlbsCBqdLDK7lVPEYGfVK/hIz2HfLxQUYSJttgWnxrzlvX8Ll5h
        b5cDif2JSrJSQynQutNLd0FEWFfawidWDNWy8FHIS0ozuofFR0avyUuJ4Jle6/9ZbHzIoDz1JmIm
        2XziTilb5pIjAgMBAAGjHTAbMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEB
        CwUAA4ICAQBj46vXhUudHHscmG2t75uQgdvf++UbhfHGGQ6RQCQvi3TbR1rRjs/T/JY3FQerwlby
        BXqnnE8BH3SilpnQl656oXcGua4t5jVqxC6MmqeORuAT1dLWZVT7tsIGKFwp1TxWTptPjQ5evz8S
        h7rnHbKtgHCiaQeH5siF5P7lawNHibm4NMyqwiSTRrVfyjRR9zEsZbC7t0pObDGB+tOO1ZGLD/lT
        ncHWXb8ie0GdOklPz2u+bijoByp7j/WYKXrnOt+GR40wTIwVb69B0nNZ51S1313+zr4jo0VPro0A
        hhIY1rMKq5ImJkDNKEd6W2LyCdpkcqvQVrKcELmXus+OUPCE7y3vYGQWcWIJrAC98GjIfsUzlgI8
        z58R1O5qIHTGOLxn+Elh9H+txFYc7ozijOp6BkrPKKXlCrbI3gNU+ULM4F2uCDxDUBK3Mo8+NN0X
        8t6B+TqmSNxakDDeKvftI5lvfjf8dUN7m4GwlzPpP8zd5SOq6K7R1F5h2GyWtrX4Kk6TDBEtgQyp
        iadRm7Yr/4xlRdnJz1CJAcL5g6i+0SA8sEC8s6n0bsHqj7fStNkcYLYBFkNIrp2YDxYtEmqExr2D
        HIAJF53YuPWaqwi1wxBed26JxhwbJs81Rs4+UxPHKZQLeAb5pgPQTwAmwPvv6DJ22/uiz6k7xZ6C
        4acINCymUQ==";
    private $llave_privada_oscar = "bGFybzZsczc=";
    
    private $llave_dic = "MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQACAggAMBQGCCqGSIb3DQMHBAgwggS9AgEAMASCBMj1sbqx9Ku39iXAll/HGPHArgaY7XlpbqZdabqcbkdNtcZGBbnINx7bBdJvJUxbSWi79pYB7B4LGE30Zl0arrrCQExQRp1pty90khtqWuNgfX5MkCtxF9H9b7ZYCKtRFxHF8ZDPVspRH9IMV/26AfjQIj/sFRbagKSp0aL6Fq3LFdAyt2DgjKEiGUiWhTTkFUeQr3++Qv2FvICFCzyMhD74VhnZ+MAWggbT0CsJsz5YYjSO+1MplsXR5l76Un9iHDQPP4M90+tobfa7yidMkTDyaH/kuKH0+aG/J6WP/3eb3NlBgCqwNMe2Q5XbH+ezsS1443j9N/CEIqGXLihbr2pHmXpbESKsUmVErcqeWdTmMzMa8WRtflrWrR+nTZ9HgtP8vnm9kzgHNOUqS4wTBoQ1gTJk5fH5FEp5rd29T+B9RfHKB5WN5GvP5Qhaf0uuxS1stcW7boIF07VoCheYP1/SlmwwknT973N23nCGghzJNig/XAiq1XBpn8kSCrCH/PJaETgiwIaOdc/UT5VijRxdWvVrumGV+BK6KlyGQzz/7d+jBkBihM2Y1xdCZ4PEvWhUunpxpZAjGJilB3D1psFjWDbQk0qtV3uDjLh4UrT5CaznZFDmZ19VaYF4ei8Uv2nwRAHxgtFsOcI1L8W155Gzm2Xq9RdxhX/jdc8K6j6tRfVmWCYro0+7JqzdLfVTqB6mHHuQd3pHfgUUKngq5U3+lW+CcfsvY5As3C6DfuJgU1qfPYOAqhKBHcocFnQtsCMcs800XphPDx9tF/TRGlsMVYLG7nZwYwbwYkzQ9YNf7DFXyJBRzktiiVGZVpCyL2L1aGunZvjtin+C9Ozqu29X+L3kYTR7w5PXMo2h5AL3l0DkXkDrB9VaHH9/HOU5pWTlEmhWsLvSfBRSkPV70QD5pGYV3sx68hMBHcHV2PWEkgOoF00KCjPkcywt7vKjzXrt5eCIG4wj/aKogS841AT7WleKfv1rPJKEmhvtZN+AJrKzRxlK7MLhG5MEMKsXX+LOAQlLY9oiLzny3lmptUDZGHa5Xd5hH9639OgXaC/Onzxu+++OEdgRdzCAA/VawOjgbw38lNxBlexFTqILZMGPgjWr6w/hOoO88n7J28Qt8/6W7/y82vqJegM7hLN+pyi9vLI8kgksjjw1iJSfjhuWUNgCegH3Fpgv+cdNdVYELlG5l2KmDVXEmVp5wBYAaLOZseMmj0jrk6c91rPnKtxsNT1oQdcedYnMWt3zFgq0IX2kWM95u9O9iKNLNojIOE6KS4ken0xqDjHcnaxjBNcJHUgNxidEKOgbxXggFPL/JzqtEQYfS3Dgrp6YMxmO9GAXUH+3RRIgnC4rDr+p85iXLjVyb9dfaWHpih1yKDzT7+SGjS4u8ETYUidc0dBYugRa+rMDOkpY6xyAEp8DR3fieBuEu2AxrARXLejNDfd55QQ0yzNFm2d1Y+THQ5FEGLaO3drqnxc4AiQQHA5MDspJ9ZQnrzTJ6sdfFQWKUYrjpDu/MHnvW6GbavaWrxF8gTyod151TtSN9vu4hzZ8GI+cSOnQh41jRXWQUcr6/1j2FAPgDucA0i7tfabTSP6SqJMDaYI+1SK9N/R0CkMwSfQZ5LqerDHQW/4=";
    private $certificado_dic = "MIIGcTCCBFmgAwIBAgIUMDAwMDEwMDAwMDA0MDc2MjQ4MzYwDQYJKoZIhvcNAQELBQAwggGyMTgwNgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZIhvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBHdWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBGZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJKoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2VydmljaW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTcwOTI2MTc0MjE5WhcNMjEwOTI2MTc0MjE5WjCCARAxMDAuBgNVBAMTJ0RPQ1VNRU5UTyBJTlRFR1JBTCBDT1JQT1JBVElWTyBTQSBERSBDVjEwMC4GA1UEKRMnRE9DVU1FTlRPIElOVEVHUkFMIENPUlBPUkFUSVZPIFNBIERFIENWMTAwLgYDVQQKEydET0NVTUVOVE8gSU5URUdSQUwgQ09SUE9SQVRJVk8gU0EgREUgQ1YxJTAjBgNVBC0THERJQzEzMTAwMTQ4NyAvIEFJUlY2OTAxMzFRMTIxHjAcBgNVBAUTFSAvIEFJUlY2OTAxMzFITUNSU0MwMTExMC8GA1UECxMoRE9DVU1FTlRPIElOVEVHUkFMIENPUlBPUkFUSVZPLCBTQSBERSBDVjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAI9s5/MewOjGsDXkN32EcuyCIJT+xEvv/TfAkBIrBNzo63xv2Vil6LjhAdVZdrKbLf7mLD4Kep5isiOjE4g4nh0WyXnt8EoEbMNpztVnbnHJrDXgCNlnnqd0khaITbAxcnHCddftks4mdbKD+0k90Kk9HgozYzvvDvSciojQaTewzUL9kRfNAt6bqb4r7/n3jHvOynqfiX5p6U1jjktx28avFkSn066x+Iwx3k91VL4v57ox4R3l7Dj6DCV5M4AbHQzajmBKedSjNKJppQb8gdauCfHYo/bSx1ew1KlYRao7SYq0SY1qEiP1EIBrBrLMt5l39Lm/HV4HF29fnkCzrNsCAwEAAaMdMBswDAYDVR0TAQH/BAIwADALBgNVHQ8EBAMCBsAwDQYJKoZIhvcNAQELBQADggIBAJJyvTMb/RQzk8VVqG09wqMVR1MQV9V9vS5IMXxXZNdwfCMhezyHDM7qGjIw3U1FLMDWFV/o+vRpS6iORzQJs4w/wZE1ZXqxzh6Omu7G8veEfH4yR0tYg2AOnnGlHyG4L2SEo3meFZ7VzCvQxrZRcPzHab9RwWKInBdWcZcWkvuZFRHRpnRycaTlhy3pbnx9fHq45cODaWl9o2l26gLSOVZSofzzK1Eams1v/HWpyDKA9ihIojdxtzA3bFeaQQkEAqOVPQx2RAERjji1y9hajE7vFEjl2JGz66fomTKf5oF05OYg410r8JY5wQWL4Lq7p2tCyAqTckJ3qMt5CXZdhZsAGRf3GBQQr+EBPNx3x11Xzz3x+MVfhGl2lYH6gaf9ThEe3b9Y/WHoj6n9Dlz7Pg2h7GSb2kPlKP6+zPIfRMJiRvPhBgyKt7CMy+58UxkBUFhqeecoJNJrWxINUXNusIGtaOMdh450bU7i243FV67ryKVQDX3KIxW9S0S/KIjhCGmzD/fkFy0/GMBvmEcxjTB1j94pXTHubDkHcSPtGwLATWcJ4KXiK76vV7HFdldodMwGhQNAdKpriu2sIoNO+A3EU+1/2EtXPesKheF/kgh/jLQD8gfgKyH7jvsWYLZuv66UvH7udaKNM9YDbmPW3l74biV7DQC8/cUhRLmo9+Ng";
    private $llave_privada_dic = "SU5URUdSQUwyMDE3";
    
    private $folio;
    private $IdFactura;
    private $IdPago;
    private $RFC;
    private $UsuarioUltimaModificacion;
    private $Pantalla;

    public function findidFactura() {
        $consulta = "SELECT c_factura.Folio AS Folio,c_factura.Serie,c_factura.RFCEmisor,c_factura.folioFiscal,
            DATEDIFF(NOW(),c_factura.FechaFacturacion) AS Diferencia FROM c_factura 
            WHERE IdFactura='" . $this->IdFactura . "';";
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        return $query;
    }

    public function CancelarPeriodoSinFactura() {
        $result = $this->findidFactura();
        $catalogo = new Catalogo();
        while ($rs = mysql_fetch_array($result)) {//Recorremos los datos de la factura actual
            $consulta = "SELECT pref.Folio, pref.IdEmisor, f.IdFactura, fe.RFC
                FROM c_folio_prefactura AS pref
                LEFT JOIN c_datosfacturacionempresa AS fe ON fe.IdDatosFacturacionEmpresa = pref.IdEmisor
                LEFT JOIN c_factura AS f ON f.Folio = pref.Folio AND f.RFCEmisor = fe.IdDatosFacturacionEmpresa
                WHERE pref.FolioTimbrado = '" . $rs['Serie'] . $rs['Folio'] . "' AND fe.RFC = '" . $rs['RFCEmisor'] . "'";
            $result2 = $catalogo->obtenerLista($consulta);
            while ($rs2 = mysql_fetch_array($result2)) {//Buscamos el id de la pre-factura y ponemos en nulo lo que haya "matado" en el proceso de periodos sin facturar
                $idPrefactura = $rs2['IdFactura'];
                $catalogo->obtenerLista("UPDATE c_folio_prefactura SET FolioTimbrado = NULL,
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE Folio = " . $rs2['Folio'] . " AND IdEmisor = " . $rs2['IdEmisor'] . ";");
                //Renta e incluidos
                $catalogo->obtenerLista("UPDATE k_equiposporfacturar SET RentaMensualFacturado = NULL, IncluidasBNFacturado = NULL, IncluidasColorFacturado = NULL,
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE RentaMensualFacturado = $idPrefactura;");
                //Costo excedentes BN
                $catalogo->obtenerLista("UPDATE k_equiposporfacturar SET CostoExcedentesBNFacturado = NULL,                    
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE CostoExcedentesBNFacturado = $idPrefactura;");
                //Costo excedentes color
                $catalogo->obtenerLista("UPDATE k_equiposporfacturar SET CostoExcedentesColorFacturado = NULL, 
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE CostoExcedentesColorFacturado = $idPrefactura;");
                //Costo procesados BN
                $catalogo->obtenerLista("UPDATE k_equiposporfacturar SET CostoProcesadaBNFacturado = NULL,
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE CostoProcesadaBNFacturado = $idPrefactura;");
                //Costo procesados color
                $catalogo->obtenerLista("UPDATE k_equiposporfacturar SET CostoProcesadaColorFacturado = NULL, 
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE CostoProcesadaColorFacturado = $idPrefactura;");
                //Cancelar factura
                $catalogo->obtenerLista("UPDATE c_factura SET EstadoFactura = 1, 
                    UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                    WHERE IdFactura = $idPrefactura;");
            }
        }
    }

    public function CancelarFactura($mensaje) {
        $consulta = ("UPDATE c_factura SET EstadoFactura=0,FechaCancelacion=NOW(),CanceladaSAT='" . $mensaje . "' WHERE IdFactura=" . $this->IdFactura);
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        if ($query == 1) {
            $this->setPendientePorcancelar("0"); /* Quitamo el estatus de pendiente por cancelar en caso de que lo tenga. */
            $this->cancelarNDC();
            $this->CancelarPeriodoSinFactura();
            $this->aumentarCanceladas();
            return true;
        }
        return false;
    }

    public function findidFacturaPago() {
        $consulta = "SELECT pp.Referencia AS Folio,f.RFCEmisor,pp.folioFiscal,
            DATEDIFF(NOW(),pp.FechaTimbrado) AS Diferencia, fe.RazonSocial,
            (CONCAT('Calle: ',fe.Calle,', ',fe.NoInterior, ', ', fe.NoExterior)) AS Calle,
            (CONCAT('Col: ',fe.Colonia,', ',fe.Delegacion)) AS Colonia,
            (CONCAT(fe.Estado,' ', fe.CP, ' Tel. ', fe.Telefono)) AS Municipio,
            NOW() AS Fecha, fe.RFC, nr.Sello, f.id_Cfdi
            FROM c_pagosparciales AS pp
            LEFT JOIN c_factura AS f ON f.IdFactura = pp.IdFactura
            INNER JOIN c_datosfacturacionempresa AS fe ON fe.IdDatosFacturacionEmpresa = f.RFCEmisor
            WHERE pp.IdPagoParcial='" . $this->IdPago . "';";
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        return $query;
    }

    public function CancelarFacturaSin() {
        $consulta = ("UPDATE c_factura SET EstadoFactura=0,CanceladaSAT=' '  WHERE IdFactura=" . $this->IdFactura);
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        if ($query == 1) {
            $this->setPendientePorcancelar("0"); /* Quitamos el estatus de pendiente por cancelar en caso de que lo tenga. */
            $this->cancelarNDC();
            $this->CancelarPeriodoSinFactura();
            $this->aumentarCanceladas();
            return true;
        }
        return false;
    }

    public function aumentarCanceladas() {
        $consulta = "UPDATE c_folio SET Canceladas = Canceladas + 1 WHERE RFCEmisor = '" . $this->RFC . "'";
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        if ($query == 1) {
            return true;
        }
        return false;
    }

    public function cancelarNDC() {
        $consulta = "SELECT TipoComprobante, Total, FechaFacturacion, IdFactura, IdFacturaRelacion FROM c_factura WHERE IdFactura = $this->IdFactura;";
        $catalogo = new CatalogoFacturacion();
        $result = $catalogo->obtenerLista($consulta);
        while ($rs = mysql_fetch_array($result)) {
            if ($rs['TipoComprobante'] == "egreso") {//Si es NDC
                //$consulta = "SELECT IdFactura, FechaFacturacion, Total FROM c_factura WHERE IdFactura = $this->IdFactura;";
                //$result2 = $catalogo->obtenerLista($consulta);
                //while($rs2 = mysql_fetch_array($result2)){
                $consulta = "UPDATE c_factura SET IdFacturaRelacion = NULL WHERE IdFactura = " . $rs['IdFactura'] . ";";
                $catalogo->obtenerLista($consulta);
                $consulta = "SELECT IdPagoParcial FROM c_pagosparciales WHERE IdFactura = " . $rs['IdFacturaRelacion'] . " AND ImportePagado = " . $rs['Total'] . " LIMIT 0,1;";
                $result2 = $catalogo->obtenerLista($consulta);
                while ($rs2 = mysql_fetch_array($result2)) {
                    $consulta = "DELETE FROM c_pagosparciales WHERE IdPagoParcial = " . $rs2['IdPagoParcial'] . ";";
                    $catalogo->obtenerLista($consulta);
                }
                $pagos = new PagoParcial();
                $pagos->setId_factura($rs['IdFacturaRelacion']);
                $pagos->verificarPagado(true);
            }
            return true;
        }
        return true;
    }

    /**
     * Pone la factura con el estatus pendiente especificado (1: Pendiente por cancelar, != 1: Normal)
     * @return boolean true en caso de poder cambiar el estatus, false en caso contrario
     */
    public function setPendientePorcancelar($estado) {
        if ($estado == "1") {/* Si se va a poner como pendiente, dejamos cancelaSat = null para que en el grid se ve el tache para cancelar */
            $consulta = "UPDATE c_factura SET PendienteCancelar=$estado, CanceladaSAT=null  WHERE IdFactura=" . $this->IdFactura;
        } else {
            $consulta = "UPDATE c_factura SET PendienteCancelar=$estado WHERE IdFactura=" . $this->IdFactura;
        }
        $catalogo = new CatalogoFacturacion();
        $query = $catalogo->obtenerLista($consulta);
        if ($query == 1) {
            $result = $this->findidFactura();
            $catalogo = new Catalogo();
            while ($rs = mysql_fetch_array($result)) {//Recorremos los datos de la factura actual
                $consulta = "SELECT pref.Folio, pref.IdEmisor, f.IdFactura, fe.RFC
                    FROM c_folio_prefactura AS pref
                    LEFT JOIN c_datosfacturacionempresa AS fe ON fe.IdDatosFacturacionEmpresa = pref.IdEmisor
                    LEFT JOIN c_factura AS f ON f.Folio = pref.Folio AND f.RFCEmisor = fe.IdDatosFacturacionEmpresa
                    WHERE pref.FolioTimbrado = '" . $rs['Serie'] . $rs['Folio'] . "' AND fe.RFC = '" . $rs['RFCEmisor'] . "'";

                $result2 = $catalogo->obtenerLista($consulta);
                while ($rs2 = mysql_fetch_array($result2)) {//Buscamos el id de la pre-factura y ponemos en nulo lo que haya "matado" en el proceso de periodos sin facturar
                    $idPrefactura = $rs2['IdFactura'];
                    //Cancelar factura
                    $consulta = "UPDATE c_factura SET EstadoFactura = 1, 
                        UsuarioUltimaModificacion = '$this->UsuarioUltimaModificacion', FechaUltimaModificacion = NOW(), Pantalla = '$this->Pantalla'
                        WHERE IdFactura = $idPrefactura;";
                    $catalogo->obtenerLista($consulta);
                }
            }
            return true;
        }
        return false;
    }

    public function aumentarFolioCancelado($RFCEmisor) {
        
    }

    public function getCertificado_gsc() {
        return $this->certificado_gsc;
    }

    public function setCertificado_gsc($certificado_gsc) {
        $this->certificado_gsc = $certificado_gsc;
    }

    public function getLlave_gsc() {
        return $this->llave_gsc;
    }

    public function setLlave_gsc($llave_gsc) {
        $this->llave_gsc = $llave_gsc;
    }

    public function getCertificado_ast() {
        return $this->certificado_ast;
    }

    public function getLlave_ast() {
        return $this->llave_ast;
    }

    public function getLlave_privada_ast() {
        return $this->llave_privada_ast;
    }

    public function setCertificado_ast($certificado_ast) {
        $this->certificado_ast = $certificado_ast;
    }

    public function setLlave_ast($llave_ast) {
        $this->llave_ast = $llave_ast;
    }

    public function setLlave_privada_ast($llave_privada_ast) {
        $this->llave_privada_ast = $llave_privada_ast;
    }

    public function getLlave_privada_gsc() {
        return $this->llave_privada_gsc;
    }

    public function setLlave_privada_gsc($llave_privada_gsc) {
        $this->llave_privada_gsc = $llave_privada_gsc;
    }

    public function getIdFactura() {
        return $this->IdFactura;
    }

    public function setIdFactura($IdFactura) {
        $this->IdFactura = $IdFactura;
    }

    public function getCertificado_scg() {
        return $this->certificado_scg;
    }

    public function setCertificado_scg($certificado_scg) {
        $this->certificado_scg = $certificado_scg;
    }

    public function getLlave_scg() {
        return $this->llave_scg;
    }

    public function setLlave_scg($llave_scg) {
        $this->llave_scg = $llave_scg;
    }

    public function getLlave_privada_scg() {
        return $this->llave_privada_scg;
    }

    public function setLlave_privada_scg($llave_privada_scg) {
        $this->llave_privada_scg = $llave_privada_scg;
    }

    public function getCertificado_odf() {
        return $this->certificado_odf;
    }

    public function setCertificado_odf($certificado_odf) {
        $this->certificado_odf = $certificado_odf;
    }

    public function getLlave_odf() {
        return $this->llave_odf;
    }

    public function setLlave_odf($llave_odf) {
        $this->llave_odf = $llave_odf;
    }

    public function getLlave_privada_odf() {
        return $this->llave_privada_odf;
    }

    public function setLlave_privada_odf($llave_privada_odf) {
        $this->llave_privada_odf = $llave_privada_odf;
    }

    public function getFolio() {
        return $this->folio;
    }

    public function setFolio($folio) {
        $this->folio = $folio;
    }

    function getRFC() {
        return $this->RFC;
    }

    function setRFC($RFC) {
        $this->RFC = $RFC;
    }

    public function getUsuarioUltimaModificacion() {
        return $this->UsuarioUltimaModificacion;
    }

    public function setUsuarioUltimaModificacion($UsuarioUltimaModificacion) {
        $this->UsuarioUltimaModificacion = $UsuarioUltimaModificacion;
    }

    public function getPantalla() {
        return $this->Pantalla;
    }

    public function setPantalla($Pantalla) {
        $this->Pantalla = $Pantalla;
    }

    function getCertificado_sic() {
        return $this->certificado_sic;
    }

    function getLlave_sic() {
        return $this->llave_sic;
    }

    function getLlave_privada_sic() {
        return $this->llave_privada_sic;
    }

    function setCertificado_sic($certificado_sic) {
        $this->certificado_sic = $certificado_sic;
    }

    function setLlave_sic($llave_sic) {
        $this->llave_sic = $llave_sic;
    }

    function setLlave_privada_sic($llave_privada_sic) {
        $this->llave_privada_sic = $llave_privada_sic;
    }

    function getCertificado_xiimbal() {
        return $this->certificado_xiimbal;
    }

    function getLlave_xiimbal() {
        return $this->llave_xiimbal;
    }

    function getLlave_privada_ximbal() {
        return $this->llave_privada_ximbal;
    }

    function setCertificado_xiimbal($certificado_xiimbal) {
        $this->certificado_xiimbal = $certificado_xiimbal;
    }

    function setLlave_xiimbal($llave_xiimbal) {
        $this->llave_xiimbal = $llave_xiimbal;
    }

    function setLlave_privada_ximbal($llave_privada_ximbal) {
        $this->llave_privada_ximbal = $llave_privada_ximbal;
    }

    function getCertificado_alarplus() {
        return $this->certificado_alarplus;
    }

    function getLlave_alarplus() {
        return $this->llave_alarplus;
    }

    function getLlave_privada_alarplus() {
        return $this->llave_privada_alarplus;
    }

    function setCertificado_alarplus($certificado_alarplus) {
        $this->certificado_alarplus = $certificado_alarplus;
    }

    function setLlave_alarplus($llave_alarplus) {
        $this->llave_alarplus = $llave_alarplus;
    }

    function setLlave_privada_alarplus($llave_privada_alarplus) {
        $this->llave_privada_alarplus = $llave_privada_alarplus;
    }

    function getIdPago() {
        return $this->IdPago;
    }

    function setIdPago($IdPago) {
        $this->IdPago = $IdPago;
    }

    function getCertificado_lar() {
        return $this->certificado_lar;
    }

    function getLlave_lar() {
        return $this->llave_lar;
    }

    function getLlave_privada_lar() {
        return $this->llave_privada_lar;
    }

    function setCertificado_lar($certificado_lar) {
        $this->certificado_lar = $certificado_lar;
    }

    function setLlave_lar($llave_lar) {
        $this->llave_lar = $llave_lar;
    }

    function setLlave_privada_lar($llave_privada_lar) {
        $this->llave_privada_lar = $llave_privada_lar;
    }

    function getLlave_privada_oscar() {
        return $this->llave_privada_oscar;
    }

    function getCertificado_oscar() {
        return $this->certificado_oscar;
    }

    function getLlave_oscar() {
        return $this->llave_oscar;
    }

    function setLlave_privada_oscar($llave_privada_oscar) {
        $this->llave_privada_oscar = $llave_privada_oscar;
    }

    function setCertificado_oscar($certificado_oscar) {
        $this->certificado_oscar = $certificado_oscar;
    }

    function setLlave_oscar($llave_oscar) {
        $this->llave_oscar = $llave_oscar;
    }

    function getLlave_privada_dic() {
        return $this->llave_privada_dic;
    }

    function getCertificado_dic() {
        return $this->certificado_dic;
    }

    function getLlave_dic() {
        return $this->llave_dic;
    }

    function setLlave_privada_dic($llave_privada_dic) {
        $this->llave_privada_dic = $llave_privada_dic;
    }

    function setCertificado_dic($certificado_dic) {
        $this->certificado_dic = $certificado_dic;
    }

    function setLlave_dic($llave_dic) {
        $this->llave_dic = $llave_dic;
    }
    
    function setLlave_prueba($llave){
        $this->llave_prueba = $llave;
    }
    function getLlave_prueba(){
        return $this->llave_prueba;
    }
    function setLlavePrivada_prueba($llave){
        $this->llave_privada_prueba = $llave;
    }
    //************* Modificacion de codigo *JT 17/10/18
    function getLlave_privada_prueba(){                 // Se cambi el nombre de la funcin porque esta como "getLlaveprivada_prueba"
        return $this->llave_privada_prueba;
    }
    //**********************************************
    function setCertificado_prueba($cer){
        $this->certificado_prueba = $cer;
    }
    function getCertificado_prueba(){
        return $this->certificado_prueba;
    }
    


}

?>
